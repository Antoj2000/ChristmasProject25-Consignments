INFO:     Will watch for changes in these directories: ['C:\\Users\\johns\\OneDrive - Atlantic TU\\CICD3\\DPDProject\\ConsignmentsCICD']
INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
INFO:     Started reloader process [59916] using StatReload
INFO:     Started server process [59460]
INFO:     Waiting for application startup.
2025-12-12 01:10:59,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:10:59,017 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("consignments")
2025-12-12 01:10:59,017 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-12 01:10:59,018 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:56435 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:56435 - "GET /openapi.json HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app\main.py'. Reloading...
 INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [59460]
INFO:     Started server process [13348]
INFO:     Waiting for application startup.
2025-12-12 01:14:13,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:14:13,523 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("consignments")
2025-12-12 01:14:13,523 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-12 01:14:13,523 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:54949 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:54949 - "GET /openapi.json HTTP/1.1" 200 OK
2025-12-12 01:14:52,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:14:52,389 INFO sqlalchemy.engine.Engine SELECT consignments.id, consignments.account_no, consignments.name, consignments.addressline1, consignments.addressline2, consignments.addressline3, consignments.addressline4, consignments.weight 
FROM consignments ORDER BY consignments.id
2025-12-12 01:14:52,389 INFO sqlalchemy.engine.Engine [generated in 0.00085s] ()
2025-12-12 01:14:52,397 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:52200 - "GET /api/consignment HTTP/1.1" 200 OK
C:\Users\johns\OneDrive - Atlantic TU\CICD3\DPDProject\ConsignmentsCICD\app\main.py:78: RuntimeWarning: coroutine 'validate_account_exists' was never awaited
  validate_account_exists(con.account_no)
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2025-12-12 01:16:13,048 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:16:13,052 INFO sqlalchemy.engine.Engine INSERT INTO consignments (account_no, name, addressline1, addressline2, addressline3, addressline4, weight) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-12-12 01:16:13,052 INFO sqlalchemy.engine.Engine [generated in 0.00044s] ('A06303', 'fail', 'string', 'string', 'string', 'lol', 1)
2025-12-12 01:16:13,056 INFO sqlalchemy.engine.Engine COMMIT
2025-12-12 01:16:13,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:16:13,063 INFO sqlalchemy.engine.Engine SELECT consignments.id, consignments.account_no, consignments.name, consignments.addressline1, consignments.addressline2, consignments.addressline3, consignments.addressline4, consignments.weight 
FROM consignments 
WHERE consignments.id = ?
2025-12-12 01:16:13,063 INFO sqlalchemy.engine.Engine [generated in 0.00023s] (4,)
2025-12-12 01:16:13,070 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60866 - "POST /api/consignment HTTP/1.1" 201 Created
INFO:     127.0.0.1:64162 - "POST /api/consignment HTTP/1.1" 422 Unprocessable Content
2025-12-12 01:16:39,462 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:16:39,463 INFO sqlalchemy.engine.Engine INSERT INTO consignments (account_no, name, addressline1, addressline2, addressline3, addressline4, weight) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-12-12 01:16:39,464 INFO sqlalchemy.engine.Engine [cached since 26.41s ago] ('A99999', 'fail', 'string', 'string', 'string', 'lol', 1)
2025-12-12 01:16:39,476 INFO sqlalchemy.engine.Engine COMMIT
2025-12-12 01:16:39,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:16:39,489 INFO sqlalchemy.engine.Engine SELECT consignments.id, consignments.account_no, consignments.name, consignments.addressline1, consignments.addressline2, consignments.addressline3, consignments.addressline4, consignments.weight 
FROM consignments 
WHERE consignments.id = ?
2025-12-12 01:16:39,489 INFO sqlalchemy.engine.Engine [cached since 26.43s ago] (5,)
2025-12-12 01:16:39,498 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64624 - "POST /api/consignment HTTP/1.1" 201 Created
WARNING:  StatReload detected changes in 'app\utils\account_validator.py'. Reloading...
 INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13348]
INFO:     Started server process [60096]
INFO:     Waiting for application startup.
2025-12-12 01:18:06,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:18:06,561 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("consignments")
2025-12-12 01:18:06,561 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-12 01:18:06,561 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app\utils\account_validator.py'. Reloading...
 INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [60096]
INFO:     Started server process [58824]
INFO:     Waiting for application startup.
2025-12-12 01:19:24,835 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:19:24,835 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("consignments")
2025-12-12 01:19:24,835 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-12 01:19:24,836 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:49671 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:49671 - "GET /openapi.json HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app\main.py'. Reloading...
 INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [58824]
INFO:     Started server process [57632]
INFO:     Waiting for application startup.
2025-12-12 01:19:48,910 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:19:48,910 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("consignments")
2025-12-12 01:19:48,910 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-12 01:19:48,911 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:60200 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:60200 - "GET /openapi.json HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app\main.py'. Reloading...
 INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [57632]
INFO:     Started server process [61188]
INFO:     Waiting for application startup.
2025-12-12 01:20:01,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:20:01,395 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("consignments")
2025-12-12 01:20:01,395 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-12 01:20:01,395 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:60013 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:60013 - "GET /openapi.json HTTP/1.1" 200 OK
VALIDATOR RUNNING — checking account: A98884
INFO:     127.0.0.1:54300 - "POST /api/consignment HTTP/1.1" 400 Bad Request
VALIDATOR RUNNING — checking account: A06303
2025-12-12 01:21:38,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:21:38,667 INFO sqlalchemy.engine.Engine INSERT INTO consignments (account_no, name, addressline1, addressline2, addressline3, addressline4, weight) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-12-12 01:21:38,667 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ('A06303', 'string', 'string', 'string', 'string', 'string', 1)
2025-12-12 01:21:38,681 INFO sqlalchemy.engine.Engine COMMIT
2025-12-12 01:21:38,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-12 01:21:38,694 INFO sqlalchemy.engine.Engine SELECT consignments.id, consignments.account_no, consignments.name, consignments.addressline1, consignments.addressline2, consignments.addressline3, consignments.addressline4, consignments.weight 
FROM consignments 
WHERE consignments.id = ?
2025-12-12 01:21:38,695 INFO sqlalchemy.engine.Engine [generated in 0.00051s] (6,)
2025-12-12 01:21:38,706 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:52385 - "POST /api/consignment HTTP/1.1" 201 Created
